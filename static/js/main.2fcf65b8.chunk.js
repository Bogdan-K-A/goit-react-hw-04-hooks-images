(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1Jz86",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage___-s8y"}},11:function(e,t,a){e.exports={Button:"Button_Button__2WKLr",Center:"Button_Center__2gw-j"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2sXuW",Modal:"Modal_Modal__31gvd"}},17:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1M3kO"}},25:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2NGdY",SearchForm:"Searchbar_SearchForm__1VboS",SearchFormButton:"Searchbar_SearchFormButton__lzsv9",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1Y8ku",SearchFormInput:"Searchbar_SearchFormInput__10i9d"}},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),i=(a(25),a(13)),s=a(3),l=a(8),u=a(14),m=a(15),j=a(20),h=a(18),b=(a(26),a(19)),d=a(4),O=a.n(d),p=a(1),g=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={searchinput:""},e.handelNameImg=function(t){var a=t.currentTarget.value;e.setState({searchinput:a.toLowerCase()})},e.handelSubmit=function(t){t.preventDefault();var a=e.state.searchinput;if(""===a.trim())return l.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441");e.props.onSubmit(a),e.setState({searchinput:""})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.searchinput;return Object(p.jsx)("header",{className:O.a.Searchbar,children:Object(p.jsxs)("form",{className:O.a.SearchForm,onSubmit:this.handelSubmit,children:[Object(p.jsxs)("button",{type:"submit",className:O.a.SearchFormButton,children:[Object(p.jsx)(b.a,{style:{width:20,height:20}}),Object(p.jsx)("span",{className:O.a.SearchFormButtonLabel,children:"Search"})]}),Object(p.jsx)("input",{className:O.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handelNameImg})]})})}}]),a}(n.Component),f=g,S=(a(28),a(16)),_=a.n(S),v=function(){return Object(p.jsx)("div",{children:Object(p.jsx)(_.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80})})},x=a(17),I=a.n(x),y=a(10),w=a.n(y);var F=function(e){var t=e.imgSrc,a=e.imgUrl,n=e.onModalOpen;return Object(p.jsx)("li",{className:w.a.ImageGalleryItem,onClick:function(){n(a)},children:Object(p.jsx)("img",{src:t,alt:"",className:w.a.ImageGalleryItemImage})})};var L=function(e){var t=e.onModalOpen,a=e.result;return Object(p.jsx)("ul",{className:I.a.ImageGallery,children:a.map((function(e){var a=e.id,n=e.webformatURL,r=e.largeImageURL;return Object(p.jsx)(F,{imgUrl:r,imgSrc:n,onModalOpen:t},a)}))})};var k=function(e,t){var a="?q=".concat(e,"&page=").concat(t,"&key=").concat("23996907-65b7baf3ba7389d44636c5d9e","&image_type=photo&orientation=horizontal&per_page=12");return fetch("https://pixabay.com/api/"+a).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u0422\u0430\u043a\u043e\u0433\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f ".concat(e," \u043d\u0435\u0442")))}))},N=a(11),B=a.n(N),C=function(e){var t=e.onLoadMore;return Object(p.jsx)("div",{className:B.a.Center,children:Object(p.jsx)("button",{className:B.a.Button,type:"button",onClick:t,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451"})})},G=a(12),M=a.n(G);function U(e){var t=e.onClick,a=e.largImageURL;Object(n.useEffect)((function(){window.addEventListener("keydown",r)}),[]);var r=function(e){"Escape"===e.code&&t()};return Object(p.jsx)("div",{className:M.a.Overlay,onClick:t,children:Object(p.jsx)("div",{className:M.a.Modal,children:Object(p.jsx)("img",{src:a,alt:""})})})}var R=function(e){return e.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}}))};function E(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),u=o[0],m=o[1],j=Object(n.useState)("idle"),h=Object(s.a)(j,2),b=h[0],d=h[1],O=Object(n.useState)(1),g=Object(s.a)(O,2),S=g[0],_=g[1],x=Object(n.useState)([]),I=Object(s.a)(x,2),y=I[0],w=I[1],F=Object(n.useState)(""),N=Object(s.a)(F,2),B=N[0],G=N[1];Object(n.useEffect)((function(){a&&S&&M()}),[a,S]);var M=function(){d("panding"),k(a,S).then((function(e){0===e.total?(m("\u041d\u0435\u0442 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(a)),d("rejected")):(w((function(t){return[].concat(Object(i.a)(t),Object(i.a)(R(e.hits)))})),E())})).catch((function(e){m(e),d("rejected")})).finally((function(){d("rejected")}))},E=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{onSubmit:function(e){return r(e),w([]),_(1)}}),"panding"===b&&Object(p.jsx)(v,{}),y.length>0&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(L,{onModalOpen:function(e){G(e)},result:y}),Object(p.jsx)(C,{onLoadMore:function(){_(S+1)}})]}),B&&Object(p.jsx)(U,{largImageURL:B,onClick:function(){G("")}}),u&&Object(p.jsx)("p",{children:u}),Object(p.jsx)(l.a,{autoClose:3e3,position:"top-center"})]})}o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(E,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.2fcf65b8.chunk.js.map